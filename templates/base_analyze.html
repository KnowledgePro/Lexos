{% extends "base.html" %}

{% block section_head %}
<script type="text/javascript" src="{{ url_for('static', filename='js/scripts_analyze.js') }}?ver={{version}}"></script>
{% endblock %}

{% block content %}
	<div id="analyze-options" class="cf">{% block options %}{% endblock %}</div>
	<div id="analyze-advanced" class="cf">
		<fieldset class="analyze-advanced-options" id="tokenize-options">
			<legend id="tokenize-title">Tokenize</legend>
			<div class="tokenize-div" id="tokenize-input">
				<span id="tokenize-size-input">
					<input type="number" name="tokenSize" min="1" max="5" step="1" value="{{ request.form['tokenSize'] or '1' }}" readonly/>
					-gram
				</span>
			</div>
			<div class="tokenize-div" id="tokenize-radios">
				<label>
					by Words
					<input type="radio" name="tokenType" value="word" checked disabled/>
				</label>
				<label>
					by Characters
					<input type="radio" name="tokenType" value="char" disabled/>
				</label>
			</div>
		</fieldset>
		<fieldset class="analyze-advanced-options" id="normalize-options">
			<legend id="normalize-title">Normalize</legend>
			<div class="normalize-div" id="normalize-radios">
				<label>
					Raw Counts
					<input type="radio" name="normalizeType" value="raw" checked/>
				</label>
				<label>
					Proportional Counts
					<input type="radio" name="normalizeType" value="freq" {{ 'checked' if request.form['normalizeType'] == 'freq' }}/>
				</label>
				<label>
					Weighted Counts (TF/IDF)
					<input type="radio" name="normalizeType" value="tfidf" disabled/>
				</label>
			</div>
		</fieldset>
		<fieldset id="temp-label-div">
			<legend class="has-expansion">Assign Temp. Labels<span class="icon-arrow-right"></span></legend>
			<!-- <div class= "bttn bttn-minor labeleditting">Edit Labels</div> -->
			<div class="expansion" id="modifylabels">
			{% for fileID, label in labels.items() %}
				<label for="{{fileID}}">{{fileID}}: 
					<input type="text" class="filenames" name="file_{{fileID}}" id="{{fileID}}" value="{{ request.form['file_'+(fileID|str)] or label }}">
				</label>
			{%- endfor %}
			{% if labels|len == 0 %}
				<span>No files are active</span>
			{%- endif %}
			</div>
		</fieldset>
	</div>
	<div id="analyze-submit" class="cf">{% block submit %}{% endblock %}</div>
	<div id="analyze-results" class="cf">{% block results %}{% endblock %}</div>
{% endblock %}